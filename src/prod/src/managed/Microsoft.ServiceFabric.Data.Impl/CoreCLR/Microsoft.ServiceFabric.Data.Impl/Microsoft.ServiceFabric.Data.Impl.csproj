<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(EnvironmentConfig)" />
  <Import Project="$(ExtendedTargetsPath)\NoTarget.targets" />
  <Import Project="$(SRCROOT)\properties\service_fabric_managed_coreclr.props" />

  <PropertyGroup>
    <Description>Microsoft.ServiceFabric.Data.Impl Library</Description>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <AssemblyName>Microsoft.ServiceFabric.Data.Impl</AssemblyName>
    <PackageId>Microsoft.ServiceFabric.Data.Impl</PackageId>
    <NeutralLanguage>en-US</NeutralLanguage>
  </PropertyGroup>

  <PropertyGroup Condition=" $(TargetsWindows) == 'true' ">
    <DefineConstants>$(DefineConstants);USE_KTL_LOGGER_DRIVER</DefineConstants>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include=
      "..\..\_friends.cs;
      ..\..\Extensions.cs;
      ..\..\AsyncEnumerableWrapper.cs;
      ..\..\AsyncEnumeratorWrapper.cs;
      ..\..\ApiMonitoring\ReplicatorApiMonitor.cs;
      ..\..\Collections\DefaultComparer.cs;
      ..\..\Collections\DefaultEqualityComparer.cs;
      ..\..\Collections\DictionaryInitializationContext.cs;
      ..\..\Collections\DistributedDictionary.cs;
      ..\..\Collections\DistributedQueue.cs;
      ..\..\Collections\EmptyRangePartitioner.cs;
      ..\..\Collections\EmptyOperationDataStream.cs;
      ..\..\Collections\IDistributedCollection.cs;
      ..\..\Collections\IDistributedDictionary.cs;
      ..\..\Collections\IDistributedQueue.cs;
      ..\..\Collections\IsolationHelper.cs;
      ..\..\Collections\LongByteConverter.cs;
      ..\..\Collections\LongComparer.cs;
      ..\..\Collections\LongRangePartitioner.cs;
      ..\..\Collections\PrepareForRemoveStateLockContext.cs;
      ..\..\Collections\QueueInitializationContext.cs;
      ..\..\Collections\QueueSnapshotAsyncEnumerable.cs;
      ..\..\Collections\ReliableConcurrentQueue\Checkpoint.cs;
      ..\..\Collections\ReliableConcurrentQueue\CheckpointFileHelper.cs;
      ..\..\Collections\ReliableConcurrentQueue\CheckpointFrame.cs;
      ..\..\Collections\ReliableConcurrentQueue\CheckpointManager.cs;
      ..\..\Collections\ReliableConcurrentQueue\CopyFileWriter.cs;
      ..\..\Collections\ReliableConcurrentQueue\Constants.cs;
      ..\..\Collections\ReliableConcurrentQueue\CopyStream.cs;
      ..\..\Collections\ReliableConcurrentQueue\DataStore.cs;
      ..\..\Collections\ReliableConcurrentQueue\IListElement.cs;
      ..\..\Collections\ReliableConcurrentQueue\ListElementState.cs;
      ..\..\Collections\ReliableConcurrentQueue\MetadataOperationData.cs;
      ..\..\Collections\ReliableConcurrentQueue\OperationLockContext.cs;
      ..\..\Collections\ReliableConcurrentQueue\OperationType.cs;
      ..\..\Collections\ReliableConcurrentQueue\PrimeLockThrows.cs;
      ..\..\Collections\ReliableConcurrentQueue\RedoUndoOperationData.cs;
      ..\..\Collections\ReliableConcurrentQueue\ReliableConcurrentQueue.cs;
      ..\..\Collections\ReliableConcurrentQueue\TestableAssertHelper.cs;
      ..\..\Collections\ReliableConcurrentQueue\UnlockSource.cs;
      ..\..\Collections\StringByteConverter.cs;
      ..\..\Collections\StringCompareOrdinal.cs;
      ..\..\Collections\StringRangePartitioner.cs;
      ..\..\Collections\SnapshotAsyncEnumerable.cs;
      ..\..\Common.cs;
      ..\..\Common\Diagnostics.cs;
      ..\..\Common\MergeManager\ComparableSortedSequenceEnumerator.cs;
      ..\..\Common\MergeManager\SortedSequenceMergeEnumerable.cs;
      ..\..\Common\MergeManager\SortedSequenceMergeEnumerator.cs;
      ..\..\Common\MergeManager\SortedSequenceMergeManager.cs;
      ..\..\ConfigStoreUtility.cs;
      ..\..\DataImplTrace.cs;
      ..\..\EntryPoints.cs;
      ..\..\Log\Utility.cs;
      ..\..\Log\Interop\NativeLog.cs;
      ..\..\Log\LogManager.LogicalLog.Buffer.cs;
      ..\..\Log\Interop\PhysicalLogContainer.cs;
      ..\..\Log\Interop\PhysicalLogManager.cs;
      ..\..\Log\LogManager.LogicalLog.cs;
      ..\..\Log\LogManager.cs;
      ..\..\Log\LogManager.PhysicalLog.cs;
      ..\..\Log\Interop\KIoBufferStream.cs;
      ..\..\Log\Interop\PhysicalLogStream.cs;
      ..\..\Log\Interfaces.cs;
      ..\..\ReliableStateManagerImpl.cs;
      ..\..\ReliableStateManagerReplica.cs;
      ..\..\ReliableStateManagerReplicatorSettingsConfigurationNames.cs;
      ..\..\ReliableStateManagerReplicatorSettingsUtil.cs;
      ..\..\ReplicationHelper.cs;
      ..\..\RetryHelper.cs;
      ..\..\DataStructures\BloomFilter.cs;
      ..\..\DataStructures\Concurrent\ISortedList.cs;
      ..\..\DataStructures\Concurrent\ConcurrentSkipList.cs;
      ..\..\DataStructures\Concurrent\RandomGenerator.cs;
      ..\..\DataStructures\Index.cs;
      ..\..\DataStructures\IPartition.cs;
      ..\..\DataStructures\KVList.cs;
      ..\..\DataStructures\Partition.cs;
      ..\..\DataStructures\PartitionComparer.cs;
      ..\..\DataStructures\PartitionSearchKey.cs;
      ..\..\DataStructures\PartitionedList.cs;
      ..\..\DataStructures\PartitionedSortedList.cs;
      ..\..\ReplicatedStore\Configuration\StoreSettings.cs;
      ..\..\ReplicatedStore\Configuration\StoreSettingsConfigurationNames.cs;
      ..\..\ReplicatedStore\Configuration\StoreSettingsUtil.cs;
      ..\..\ReplicatedStore\Diagnostics\DiskSizeMetric.cs;
      ..\..\ReplicatedStore\Diagnostics\ISamplingSuggester.cs;
      ..\..\ReplicatedStore\Diagnostics\ItemCountMetric.cs;
      ..\..\ReplicatedStore\Diagnostics\KeyTypeMetric.cs;
      ..\..\ReplicatedStore\Diagnostics\KeyValueSizeMetric.cs;
      ..\..\ReplicatedStore\Diagnostics\ReadLatencyMetric.cs;
      ..\..\ReplicatedStore\Diagnostics\ReadWriteMetric.cs;
      ..\..\ReplicatedStore\Diagnostics\SamplingSuggester.cs;
      ..\..\ReplicatedStore\Diagnostics\StoreCountMetric.cs;
      ..\..\ReplicatedStore\Diagnostics\StorePerformanceCounterWriter.cs;
      ..\..\ReplicatedStore\Diagnostics\TStoreMetricProvider.cs;
      ..\..\ReplicatedStore\Diagnostics\TStorePerformanceCounters.cs;
      ..\..\ReplicatedStore\Diagnostics\TStorePerformanceCounterSet.cs;
      ..\..\ReplicatedStore\DifferentialStore\AddList.cs;
      ..\..\ReplicatedStore\DifferentialStore\AggregatedState.cs;
      ..\..\ReplicatedStore\DifferentialStore\AsyncEnumerable.cs;
      ..\..\ReplicatedStore\DifferentialStore\AsyncEnumerator.cs;
      ..\..\ReplicatedStore\DifferentialStore\ConsolidationMode.cs;
      ..\..\ReplicatedStore\DifferentialStore\ConsolidationManager.cs;
      ..\..\ReplicatedStore\DifferentialStore\CopyManager.cs;
      ..\..\ReplicatedStore\DifferentialStore\DifferentialStateEnumerator.cs;
      ..\..\ReplicatedStore\DifferentialStore\DifferentialStateFlags.cs;
      ..\..\ReplicatedStore\DifferentialStore\DifferentialStateVersions.cs;
      ..\..\ReplicatedStore\DifferentialStore\DifferentialStoreConstants.cs;
      ..\..\ReplicatedStore\DifferentialStore\EmptyOperationDataStream.cs;
      ..\..\ReplicatedStore\DifferentialStore\FileCountMergeConfiguration.cs;
      ..\..\ReplicatedStore\DifferentialStore\ILockContainer.cs;
      ..\..\ReplicatedStore\DifferentialStore\IRangePartitioner.cs;
      ..\..\ReplicatedStore\DifferentialStore\IReadableStoreComponent.cs;
      ..\..\ReplicatedStore\DifferentialStore\IStoreCopyProvider.cs;
      ..\..\ReplicatedStore\DifferentialStore\IStoreSweepProvider.cs;
      ..\..\ReplicatedStore\DifferentialStore\KeyCheckpointFileAsyncEnumerator.cs;
      ..\..\ReplicatedStore\DifferentialStore\KeyData.cs;
      ..\..\ReplicatedStore\DifferentialStore\KeyValueAsyncEnumerable.cs;
      ..\..\ReplicatedStore\DifferentialStore\RecoveryStoreComponent.cs;
      ..\..\ReplicatedStore\DifferentialStore\LoadValueCounter.cs;
      ..\..\ReplicatedStore\DifferentialStore\MetadataOperationData.cs;
      ..\..\ReplicatedStore\DifferentialStore\MergeHelper.cs;
      ..\..\ReplicatedStore\DifferentialStore\MergePolicy.cs;
      ..\..\ReplicatedStore\DifferentialStore\PostMergeMetadataTableInformation.cs;
      ..\..\ReplicatedStore\DifferentialStore\RecordKind.cs;
      ..\..\ReplicatedStore\DifferentialStore\RedoUndoOperationData.cs;
      ..\..\ReplicatedStore\DifferentialStore\SnapshotComponent.cs;
      ..\..\ReplicatedStore\DifferentialStore\SnapshotContainer.cs;
      ..\..\ReplicatedStore\DifferentialStore\StoreApi.cs;
      ..\..\ReplicatedStore\DifferentialStore\StoreComponentReadResult.cs;
      ..\..\ReplicatedStore\DifferentialStore\StoreInitializationParameters.cs;
      ..\..\ReplicatedStore\DifferentialStore\StoreReadWriteTransaction.cs;
      ..\..\ReplicatedStore\DifferentialStore\StoreTransaction.cs;
      ..\..\ReplicatedStore\DifferentialStore\TConsolidatedStoreComponent.cs;
      ..\..\ReplicatedStore\DifferentialStore\TDeletedItem.cs;
      ..\..\ReplicatedStore\DifferentialStore\TDifferentialStoreComponent.cs;
      ..\..\ReplicatedStore\DifferentialStore\TInsertedItem.cs;
      ..\..\ReplicatedStore\DifferentialStore\TStore.cs;
      ..\..\ReplicatedStore\DifferentialStore\TStoreAsyncEnumerator.cs;
      ..\..\ReplicatedStore\DifferentialStore\TStoreConstants.cs;
      ..\..\ReplicatedStore\DifferentialStore\TStoreCopyOperation.cs;
      ..\..\ReplicatedStore\DifferentialStore\TStoreCopyStream.cs;
      ..\..\ReplicatedStore\DifferentialStore\TUpdatedItem.cs;
      ..\..\ReplicatedStore\DifferentialStore\TVersionedItem.cs;
      ..\..\ReplicatedStore\DifferentialStore\TWriteSetStoreComponent.cs;
      ..\..\ReplicatedStore\Disk\BlockAlignedWriter.cs;
      ..\..\ReplicatedStore\Disk\CheckpointFile.cs;
      ..\..\ReplicatedStore\Disk\DiskConstants.cs;
      ..\..\ReplicatedStore\Disk\FileMetadata.cs;
      ..\..\ReplicatedStore\Disk\FilePropertySection.cs;
      ..\..\ReplicatedStore\Disk\KeyBlockAlignedWriter.cs;
      ..\..\ReplicatedStore\Disk\KeyCheckpointFile.cs;
      ..\..\ReplicatedStore\Disk\KeyCheckpointFileProperties.cs;
      ..\..\ReplicatedStore\Disk\KeyChunkMetadata.cs;
      ..\..\ReplicatedStore\Disk\MetadataManager.cs;
      ..\..\ReplicatedStore\Disk\MetadataManagerFileProperties.cs;
      ..\..\ReplicatedStore\Disk\MetadataTable.cs;
      ..\..\ReplicatedStore\Disk\PropertyChunkMetadata.cs;
      ..\..\ReplicatedStore\Disk\StreamPool.cs;
      ..\..\ReplicatedStore\Disk\ValueBlockAlignedWriter.cs;
      ..\..\ReplicatedStore\Disk\ValueCheckpointFile.cs;
      ..\..\ReplicatedStore\Disk\ValueCheckpointFileProperties.cs;
      ..\..\ReplicatedStore\LockManager\Disposable.cs;
      ..\..\ReplicatedStore\LockManager\ILock.cs;
      ..\..\ReplicatedStore\LockManager\LockCompatibility.cs;
      ..\..\ReplicatedStore\LockManager\LockControlBlock.cs;
      ..\..\ReplicatedStore\LockManager\LockHashTable.cs;
      ..\..\ReplicatedStore\LockManager\LockHashValue.cs;
      ..\..\ReplicatedStore\LockManager\LockManager.cs;
      ..\..\ReplicatedStore\LockManager\LockModes.cs;
      ..\..\ReplicatedStore\LockManager\LockResourceControlBlock.cs;
      ..\..\ReplicatedStore\LockManager\LockStatus.cs;
      ..\..\ReplicatedStore\LockManager\PrimeLockRequest.cs;
      ..\..\ReplicatedStore\Table\PriorityQueue.cs;
      ..\..\ReplicatedStore\Table\TableConstants.cs;
      ..\..\Replicator\ApiDispatcher.cs;
      ..\..\Replicator\AbsoluteUriEqualityComparer.cs;
      ..\..\Replicator\ApplyContext.cs;
      ..\..\Replicator\AtomicOperation.cs;
      ..\..\Replicator\AtomicRedoOperation.cs;
      ..\..\Replicator\BackupManager\IBackupManager.cs;
      ..\..\Replicator\BackupManager\IBackupRestoreProvider.cs;
      ..\..\Replicator\BackupManager\BackupManager.cs;
      ..\..\Replicator\BackupManager\BackupFolderInfo.cs;
      ..\..\Replicator\BackupManager\BackupLogFileAsyncEnumerator.cs;
      ..\..\Replicator\BackupManager\BackupLogFileProperties.cs;
      ..\..\Replicator\BackupManager\BackupMetadataFileProperties.cs;
      ..\..\Replicator\BackupManager\BackupMetadataFile.cs;
      ..\..\Replicator\BackupManager\BackupLogFile.cs;
      ..\..\Replicator\BackupManager\IncrementalBackupLogRecordAsyncEnumerator.cs;
      ..\..\Replicator\BackupLogRecord.cs;
      ..\..\Replicator\BarrierLogRecord.cs;
      ..\..\Replicator\BeginCheckpointLogRecord.cs;
      ..\..\Replicator\BeginTransactionOperationLogRecord.cs;
      ..\..\Replicator\CopyHeader.cs;
      ..\..\Replicator\CheckpointManager.cs;
      ..\..\Replicator\CopyMetadata.cs;
      ..\..\Replicator\CompleteCheckpointLogRecord.cs;
      ..\..\Replicator\CRC64.cs;
      ..\..\Replicator\DynamicStateManager.cs;
      ..\..\Replicator\EndCheckpointLogRecord.cs;
      ..\..\Replicator\EndTransactionLogRecord.cs;
      ..\..\Replicator\FileFormat\FileBlock.cs;
      ..\..\Replicator\FileLogicalLog.cs;
      ..\..\Replicator\FileLogManager.cs;
      ..\..\Replicator\ICheckpointManager.cs;
      ..\..\Replicator\IReplicatedLogManager.cs;
      ..\..\Replicator\ITransactionsManager.cs;
      ..\..\Replicator\KtlLogManager.cs;
      ..\..\Replicator\LockContextMode.cs;
      ..\..\Replicator\LoggingReplicator.cs;
      ..\..\Replicator\LogRecordsMap.cs;
      ..\..\Replicator\LogRecordsDispatcher.cs;
      ..\..\Replicator\LogRecord.cs;
      ..\..\Replicator\LogRecords.cs;
      ..\..\Replicator\NamedOperationData.cs;
      ..\..\Replicator\StateManagerConstants.cs;
      ..\..\Replicator\MemoryLogicalLog.cs;
      ..\..\Replicator\FileFormat\BlockHandle.cs;
      ..\..\Replicator\utils\ByteAlignedReadWriteHelper.cs;
      ..\..\Replicator\utils\ServiceReplicaUtils.cs;
      ..\..\Replicator\utils\TaskUtils.cs;
      ..\..\Replicator\VersionManager\EnumerationCompletionResult.cs;
      ..\..\Replicator\FileFormat\FileFooter.cs;
      ..\..\Replicator\FileFormat\FileProperties.cs;
      ..\..\Replicator\VersionManager\IInternalVersionManager.cs;
      ..\..\Replicator\ILockManager.cs;
      ..\..\Replicator\ILoggingReplicator.cs;
      ..\..\Replicator\VersionManager\ILoggingReplicatorToVersionManager.cs;
      ..\..\Replicator\IndexingLogRecord.cs;
      ..\..\Replicator\InformationLogRecord.cs;
      ..\..\Replicator\InMemoryBinaryReader.cs;
      ..\..\Replicator\InMemoryBinaryWriter.cs;
      ..\..\Replicator\IOperationProcessor.cs;
      ..\..\Replicator\IStateManager.cs;
      ..\..\Replicator\IStateProvider2.cs;
      ..\..\Replicator\ITracer.cs;
      ..\..\Replicator\ITransactionalReplicator.cs;
      ..\..\Replicator\IPhysicalLogReader.cs;
      ..\..\Replicator\CopyStage.cs;
      ..\..\Replicator\VersionManager\ITransactionVersionManager.cs;
      ..\..\Replicator\VersionManager\IVersionManager.cs;
      ..\..\Replicator\VersionManager\IVersionProvider.cs;
      ..\..\Replicator\LockContext.cs;
      ..\..\Replicator\PhysicalLogWriterCallbackManager.cs;
      ..\..\Replicator\LoggerEngine.cs;
      ..\..\Replicator\LoggingReplicatorCopyContext.cs;
      ..\..\Replicator\LoggingReplicatorCopyStream.cs;
      ..\..\Replicator\LogHeadRecord.cs;
      ..\..\Replicator\LogicalLogRecord.cs;
      ..\..\Replicator\LogicalSequenceNumber.cs;
      ..\..\Replicator\LogManager.cs;
      ..\..\Replicator\LogTruncationManager.cs;
      ..\..\Replicator\MemoryLogManager.cs;
      ..\..\Replicator\Metadata.cs;
      ..\..\Replicator\NamedOperationContext.cs;
      ..\..\Replicator\NamedOperationDataCollection.cs;
      ..\..\Replicator\SerializationManager\NamedType.cs;
      ..\..\Replicator\NativeMethods.cs;
      ..\..\Replicator\VersionManager\NotificationKey.cs;
      ..\..\Replicator\OperationLogRecord.cs;
      ..\..\Replicator\OperationProcessor.cs;
      ..\..\Replicator\PerformCheckpointMode.cs;
      ..\..\Replicator\PeriodicCheckpointTruncationState.cs;
      ..\..\Replicator\PhysicalLogReader.cs;
      ..\..\Replicator\PhysicalLogRecord.cs;
      ..\..\Replicator\PhysicalLogWriter.cs;
      ..\..\Replicator\PhysicalSequenceNumber.cs;
      ..\..\Replicator\ProgressVector.cs;
      ..\..\Replicator\ReaderWriterAsyncLock.cs;
      ..\..\Replicator\ReplicatorDynamicConstants.cs;
      ..\..\Replicator\RecordProcessingMode.cs;
      ..\..\Replicator\RecoveredOrCopiedCheckpointLsn.cs;
      ..\..\Replicator\RecoveryInformation.cs;
      ..\..\Replicator\RecoveryManager.cs;
      ..\..\Replicator\ReplicatedLogManager.cs;
      ..\..\Replicator\ReplicatorBackup.cs;
      ..\..\Replicator\RoleContextDrainState.cs;
      ..\..\Replicator\SecondaryDrainManager.cs;
      ..\..\Replicator\SerializableMetadata.cs;
      ..\..\Replicator\SerializationManager\SerializationManager.cs;
      ..\..\Replicator\SerializationManager\BuiltInTypeSerializer.cs;
      ..\..\Replicator\SerializationManager\BuiltInTypeSerializerBuilder.cs;
      ..\..\Replicator\SerializationManager\DataContractStateSerializer.cs;
      ..\..\Replicator\SerializationManager\ISerializationManager.cs;
      ..\..\Replicator\StatefulServiceReplica.cs;
      ..\..\Replicator\StateManagerCopyOperation.cs;
      ..\..\Replicator\StateManagerCopyStream.cs;
      ..\..\Replicator\StateManagerFile.cs;
      ..\..\Replicator\StateManagerFileBlocks.cs;
      ..\..\Replicator\StateManagerFileProperties.cs;
      ..\..\Replicator\StateManagerLockContext.cs;
      ..\..\Replicator\StateManagerLockMode.cs;
      ..\..\Replicator\StateManagerStructuredEvents.cs;
      ..\..\Replicator\StateManagerTransactionContext.cs;
      ..\..\Replicator\StateProviderIdentifier.cs;
      ..\..\Replicator\StateProviderMetadataManager.cs;
      ..\..\Replicator\Tracer.cs;
      ..\..\Replicator\Transaction.cs;
      ..\..\Replicator\TransactionBase.cs;
      ..\..\Replicator\TransactionLogRecord.cs;
      ..\..\Replicator\TransactionManager.cs;
      ..\..\Replicator\TransactionalReplicator.cs;
      ..\..\Replicator\TransactionalReplicatorSettings.cs;
      ..\..\Replicator\TransactionMap.cs;
      ..\..\Replicator\TransactionState.cs;
      ..\..\Replicator\TransactionStateMachine.cs;
      ..\..\Replicator\TruncateHeadLogRecord.cs;
      ..\..\Replicator\TruncateTailLogRecord.cs;
      ..\..\Replicator\TruncateTailManager.cs;
      ..\..\Replicator\UpdateEpochLogRecord.cs;
      ..\..\Replicator\Utility.cs;
      ..\..\Replicator\FileFormat\VarInt.cs;
      ..\..\Replicator\VersionManager\VersionManager.cs;
      ..\..\Replicator\VersionManager\TryRemoveVersionResult.cs;
      ..\..\Replicator\Constants.cs;
      ..\..\Replicator\ReplicationMetadata.cs;
      ..\..\Replicator\Diagnostics\IMetricManager.cs;
      ..\..\Replicator\Diagnostics\IMetricProvider.cs;
      ..\..\Replicator\Diagnostics\IMetricReporter.cs;
      ..\..\Replicator\Diagnostics\MetricManager.cs;
      ..\..\Replicator\Diagnostics\MetricProviderType.cs;
      ..\..\Replicator\Diagnostics\PerformanceCounterWriter.cs;
      ..\..\Replicator\Diagnostics\TransactionalReplicatorPerformanceCounters.cs;
      ..\..\Replicator\DrainingStream.cs;
      ..\..\Replicator\StateManagerApplyType.cs;
      ..\..\SerializationHelper.cs;
      ..\..\StateManagerTypeCache.cs;
      ..\..\TimeoutHelper.cs;
      ..\..\Testability\LogWriteFaultInjectionParameters.cs;
	  Microsoft.ServiceFabric.Data.SR.cs"
	  Exclude="bin\**;obj\**;**\*.xproj;packages\**" />
    <EmbeddedResource Include="..\..\SR.resx" Exclude="bin\**;obj\**;**\*.xproj;packages\**;@(EmbeddedResource)">
	  <LogicalName>Microsoft.ServiceFabric.Data.SR.resources</LogicalName>
    </EmbeddedResource>
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\..\Api\CoreCLRDlls\System.Fabric\System.Fabric.csproj" />
    <ProjectReference Include="..\..\..\Microsoft.ServiceFabric.Data.Interfaces\CoreCLR\Microsoft.ServiceFabric.Data.Interfaces\Microsoft.ServiceFabric.Data.Interfaces.csproj" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="System.IO.FileSystem.AccessControl" Version="4.4.0" />
    <PackageReference Include="System.Security.Principal.Windows" Version="4.4.0" />
    <PackageReference Include="System.Private.CompilerServices.ICastable" Version="1.0.1" />
  </ItemGroup>

  <PropertyGroup>
    <ResourcesClassName>SR</ResourcesClassName>
    <ResourcesFileDir>..\..\</ResourcesFileDir>
    <ResourcesFileName>SR</ResourcesFileName>
    <OverrideResGenAssembly>Microsoft.ServiceFabric.Data</OverrideResGenAssembly>
    <RootNamespace>Microsoft.ServiceFabric.Data</RootNamespace>
    <StringResourcesCsFileName>$(RootNamespace).$(ResourcesClassName).cs</StringResourcesCsFileName>
    <StringResourcesCsFilePath>$(IntermediateOutputPath)$(StringResourcesCsFileName)</StringResourcesCsFilePath>
    <StringResourcesResxFilePath>..\..\SR.resx</StringResourcesResxFilePath>
  </PropertyGroup>
  <Target Name="EnableCoreCLRResGen"
    BeforeTargets="BeforeBuild"
    DependsOnTargets="CoreClrResGen" />

  <ItemGroup>
    <McgReferenceLocal Include="$(ObjectRoot)\src\prod\src\managed\Api\CoreCLRDlls\System.Fabric" />
  </ItemGroup>

  <Import Project="$(SRCROOT)\properties\ServiceFabric.CoreClr.targets" />
  <Import Project="$(SRCROOT)\properties\NetStandard\service_fabric_coreclr_mcg.targets" />

  <Target Name="CopySymbolFiles" AfterTargets="AfterBuild" Condition=" '$(TargetsWindows)' == 'true' ">
    <ItemGroup>
      <SymbolFiles Include="$(OutDir)\$(AssemblyName).pdb" />
    </ItemGroup>
    <Copy SourceFiles="@(SymbolFiles)" DestinationFolder="$(BinariesBuildTypeArchDirectory)\symbols\NS" SkipUnchangedFiles="true" />
  </Target>
</Project>
