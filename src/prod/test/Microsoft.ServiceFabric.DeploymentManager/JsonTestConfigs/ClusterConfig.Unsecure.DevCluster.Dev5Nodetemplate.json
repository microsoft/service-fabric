{
  "name": "DevCluster",
  "clusterConfigurationVersion": "1.0.0",
  "apiVersion": "10-2017",
  "nodes": [
    {
      "nodeName": "_Node_0",
      "iPAddress": "localhost",
      "nodeTypeRef": "NodeType0",
      "faultDomain": "fd:/0",
      "upgradeDomain": "0"
    },
    {
      "nodeName": "_Node_1",
      "iPAddress": "localhost",
      "nodeTypeRef": "NodeType1",
      "faultDomain": "fd:/1",
      "upgradeDomain": "1"
    },
    {
      "nodeName": "_Node_2",
      "iPAddress": "localhost",
      "nodeTypeRef": "NodeType2",
      "faultDomain": "fd:/2",
      "upgradeDomain": "2"
    },
    {
      "nodeName": "_Node_3",
      "iPAddress": "localhost",
      "nodeTypeRef": "NodeType3",
      "faultDomain": "fd:/3",
      "upgradeDomain": "3"
    },
    {
      "nodeName": "_Node_4",
      "iPAddress": "localhost",
      "nodeTypeRef": "NodeType4",
      "faultDomain": "fd:/4",
      "upgradeDomain": "4"
    }
  ],

  "properties": {
    "diagnosticsStore": {
      "metadata": "Please replace the diagnostics file share with an actual file share accessible from all cluster machines.",
      "dataDeletionAgeInDays": "3",
      "storeType": "FileShare",
      "connectionstring": "%systemdrive%\\ProgramData\\SF\\DiagnosticsStore"
    },
    "nodeTypes": [
      {
        "name": "NodeType0",
        "clientConnectionEndpointPort": "19000",
        "clusterConnectionEndpointPort": "19002",
        "leaseDriverEndpointPort": "19001",
        "serviceConnectionEndpointPort": "19006",
        "httpGatewayEndpointPort": "19080",
        "reverseProxyEndpointPort": "19081",
        "applicationPorts": {
          "startPort": "30001",
          "endPort": "31000"
        },
        "isPrimary": true
      },
      {
        "name": "NodeType1",
        "clientConnectionEndpointPort": "19010",
        "clusterConnectionEndpointPort": "19012",
        "leaseDriverEndpointPort": "19011",
        "serviceConnectionEndpointPort": "19016",
        "httpGatewayEndpointPort": "19082",
        "reverseProxyEndpointPort": "19083",
        "applicationPorts": {
          "startPort": "31001",
          "endPort": "32000"
        },
        "isPrimary": true
      },
      {
        "name": "NodeType2",
        "clientConnectionEndpointPort": "19020",
        "clusterConnectionEndpointPort": "19022",
        "leaseDriverEndpointPort": "19021",
        "serviceConnectionEndpointPort": "19026",
        "httpGatewayEndpointPort": "19084",
        "reverseProxyEndpointPort": "19085",
        "applicationPorts": {
          "startPort": "32001",
          "endPort": "33000"
        },
        "isPrimary": true
      },
      {
        "name": "NodeType3",
        "clientConnectionEndpointPort": "19030",
        "clusterConnectionEndpointPort": "19032",
        "leaseDriverEndpointPort": "19031",
        "serviceConnectionEndpointPort": "19036",
        "httpGatewayEndpointPort": "19086",
        "reverseProxyEndpointPort": "19087",
        "applicationPorts": {
          "startPort": "33001",
          "endPort": "34000"
        },
        "isPrimary": false
      },
      {
        "name": "NodeType4",
        "clientConnectionEndpointPort": "19040",
        "clusterConnectionEndpointPort": "19042",
        "leaseDriverEndpointPort": "19041",
        "serviceConnectionEndpointPort": "19046",
        "httpGatewayEndpointPort": "19088",
        "reverseProxyEndpointPort": "19089",
        "applicationPorts": {
          "startPort": "34001",
          "endPort": "35000"
        },
        "isPrimary": false
      }
    ],
    "fabricSettings": [
      {
        "name": "Setup",
        "parameters": [
          {
            "name": "FabricDataRoot",
            "value": "%systemdrive%\\SfDevCluster\\Data"
          },
          {
            "name": "FabricLogRoot",
            "value": "%systemdrive%\\SfDevCluster\\Log"
          },
          {
            "name": "IsDevCluster",
            "value": "true"
          }
        ]
      },
      {
        "name": "Diagnostics",
        "parameters": [
          {
            "name": "ProducerInstances",
            "value": "ServiceFabricEtlFile,ServiceFabricPerfCtrFolder"
          },
          {
            "name": "MaxDiskQuotaInMB",
            "value": "10240"
          },
          {
            "name": "EnableCircularTraceSession",
            "value": "true"
          }
        ]
      },
      {
        "name": "Federation",
        "parameters": [
          {
            "name": "NodeIdGeneratorVersion",
            "value": "V4"
          },
          {
            "name": "UnresponsiveDuration",
            "value": "0"
          },
          {
            "name": "ProcessAssertExitTimeout",
            "value": "86400"
          }
        ]
      },
      {
        "name": "Hosting",
        "parameters": [
          {
            "name": "EndpointProviderEnabled",
            "value": "true"
          },
          {
            "name": "RunAsPolicyEnabled",
            "value": "true"
          },
          {
            "name": "EnableProcessDebugging",
            "value": "true"
          },
          {
            "name": "DeactivationScanInterval",
            "value": "60"
          },
          {
            "name": "DeactivationGraceInterval",
            "value": "10"
          },
          {
            "name": "ServiceTypeRegistrationTimeout",
            "value": "20"
          },
          {
            "name": "CacheCleanupScanInterval",
            "value": "300"
          }
        ]
      },
      {
        "name": "Management",
        "parameters": [
          {
            "name": "ImageStoreConnectionString",
            "value": "ImageStoreConnectionStringPlaceHolder"
          },
          {
            "name": "ImageCachingEnabled",
            "value": "false"
          },
          {
            "name": "EnableDeploymentAtDataRoot",
            "value": "true"
          }
        ]
      },
      {
        "name": "PlacementAndLoadBalancing",
        "parameters": [
          {
            "name": "MinLoadBalancingInterval",
            "value": "300"
          },
          {
            "name": "TraceCRMReasons",
            "value": "false"
          }
        ]
      },
      {
        "name": "ReconfigurationAgent",
        "parameters": [
          {
            "name": "IsDeactivationInfoEnabled",
            "value": "true"
          },
          {
            "name": "ServiceApiHealthDuration",
            "value": "20"
          },
          {
            "name": "ServiceReconfigurationApiHealthDuration",
            "value": "20"
          },
          {
            "name": "LocalHealthReportingTimerInterval",
            "value": "5"
          },
          {
            "name": "RAUpgradeProgressCheckInterval",
            "value": "3"
          }
        ]
      },
      {
        "name": "ServiceFabricEtlFile",
        "parameters": [
          {
            "name": "DataDeletionAgeInDays",
            "value": "3"
          },
          {
            "name": "IsEnabled",
            "value": "true"
          },
          {
            "name": "ProducerType",
            "value": "EtlFileProducer"
          },
          {
            "name": "EtlReadIntervalInMinutes",
            "value": "5"
          }
        ]
      },
      {
        "name": "ServiceFabricPerfCtrFolder",
        "parameters": [
          {
            "name": "DataDeletionAgeInDays",
            "value": "3"
          },
          {
            "name": "IsEnabled",
            "value": "true"
          },
          {
            "name": "ProducerType",
            "value": "FolderProducer"
          },
          {
            "name": "FolderType",
            "value": "ServiceFabricPerformanceCounters"
          }
        ]
      },
      {
        "name": "Trace/Etw",
        "parameters": [
          {
            "name": "Level",
            "value": "4"
          }
        ]
      },
      {
        "name": "TransactionalReplicator",
        "parameters": [
          {
            "name": "CheckpointThresholdInMB",
            "value": "64"
          }
        ]
      }
    ],
    "addOnFeatures": [
      "DnsService"
    ]
  }
}
